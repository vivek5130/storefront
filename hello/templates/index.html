{%extends 'base.html'%}
{%block title%}
Vivek shopping center
{%endblock title%}
{%block style%}
.albimg{
  height: 260px; width: 380px; overflow:cover;
  margin:auto;
 
  
}

.carouselimg{
  width: 100%;  
  height: 100%; 
  
}
.carousel-item{
  width: 100%;
  height :500px;
  overflow: hidden;
  
}
#carouselExampleDark{
  width: 100%;
}
.carousel-caption{
  background-color: rgb(178, 190, 181,0.25);
  border-radius : 50%;
  width:40%;
  margin:auto;
  
}


{%endblock style%}
{%block body%}

<div id = "tp" class = "container-fluid my-0 px-0 ">
    <div id="carouselExampleDark" class="carousel carousel-dark slide" >
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active" data-bs-interval="10000">
            <img class="carouselimg" src="https://source.unsplash.com/1600x700/?technology" class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>Welcome to Vivek Store</h5>
              <p>Buy and win exciting prizes only on our website</p>
            </div>
          </div>
          <div class="carousel-item" data-bs-interval="2000">
            <img class="carouselimg" src="https://source.unsplash.com/1600x700/?dress"  class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>Special discount on dresses</h5>
              <p>Come hurry and dont miss the offer</p>
            </div>
          </div>
          <div class="carousel-item">
            <img class="carouselimg" src="https://source.unsplash.com/1600x700/?toys"  class="d-block w-100" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>Earn while you shop</h5>
              <p>Yes! its true. You can earn while you shop</p>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
</div>


<div class="container-fluid mx-2">

  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
    <div class="col">
      <div class="card shadow-sm">
       <img class = "albimg" src = "/static/laptop.jpg" alt = "Not found"/>
        <div class="card-body">
          <p id = "namepar1" class="card-text">laptop</p>
          <div class="d-flex justify-content-between align-items-center">
            <div id = 'par1' class="btn-group">
              <span  class = "actualprice">rs45000</span>
              <button type="button" id = "pr1" class = "cart" class = "add" class="btn btn-sm btn-outline-secondary">+</button>
              <button type="button" class = "cart" class="btn btn-sm btn-outline-secondary">-</button>
              <span id = "itempar1"> {{ct}}</span>
              <span> item's selected</span>
            </div>
            <small class="text-body-secondary">8%off</small>
          </div>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card shadow-sm">
        <img class = "albimg" src = "/static/iphone.jpg" alt = "Not found"/>
        <div class="card-body">
          <p id = "namepar2" class="card-text">iphone</p>
          <div class="d-flex justify-content-between align-items-center">
            <div id = "par2" class="btn-group">
              <span  class = "actualprice">rs110000</span>
              <button type="button" id = "pr2" class = "cart" class="btn btn-sm btn-outline-secondary">+</button>
              <button type="button" class = "cart" class="btn btn-sm btn-outline-secondary">-</button>
              <span id = "itempar2"> {{ct}}</span>
              <span> item's selected</span>
            </div>
            <small class="text-body-secondary">17%off</small>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card shadow-sm">
        <img class = "albimg" src = "/static/cooler.jpg" alt = "Not found"/>
        <div class="card-body">
          <p id = "namepar3" class="card-text">cooler</p>
          <div class="d-flex justify-content-between align-items-center">
            <div id = "par3" class="btn-group">
              <span  class = "actualprice">rs10000</span>
              <button type="button" id = "pr3"  class = "cart" class="btn btn-sm btn-outline-secondary">+</button>
              <button type="button" class = "cart" class="btn btn-sm btn-outline-secondary">-</button>
              <span id = "itempar3"> {{ct}}</span>
              <span> item's selected</span>
            </div>
            <small class="text-body-secondary">10%off</small>
          </div>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card shadow-sm">
        <img class = "albimg"  src = "/static/shirt.webp" alt = "Not found"/>
        <div class="card-body">
          <p id = "namepar4" class="card-text">shirt</p>
          <div class="d-flex justify-content-between align-items-center">
            <div id = "par4" class="btn-group">
              <span  class = "actualprice">rs599</span>
              <button type="button" id = "pr4" class = "cart" class="btn btn-sm btn-outline-secondary">+</button>
              <button type="button" class = "cart" class="btn btn-sm btn-outline-secondary">-</button>
              <span id = "itempar4"> {{ct}}</span>
              <span> item's selected</span>
            </div>
            <small class="text-body-secondary">50%</small>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card shadow-sm">
        <img class = "albimg" src = "/static/watch.jpg" alt = "Not found"/>
        <div class="card-body">
          <p id = "namepar5" class="card-text">watch</p>
          <div class="d-flex justify-content-between align-items-center">
            <div id = "par5" class="btn-group">
              <span  class = "actualprice">rs1700</span>
              <button type="button" id = "pr5" class = "cart" class="btn btn-sm btn-outline-secondary">+</button>
              <button type="button" class = "cart" class="btn btn-sm btn-outline-secondary">-</button>
              <span id = "itempar5"> {{ct}}</span>
              <span> item's selected</span>
            </div>
            <small class="text-body-secondary">11% off</small>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card shadow-sm">
        <img class = "albimg" src = "/static/ac.jpg" alt = "Not found"/>
        <div class="card-body">
          <p id = "namepar6" class="card-text">ac</p>
          <div class="d-flex justify-content-between align-items-center">
            <div  id = "par6"class="btn-group">
              <span  class = "actualprice">rs120000</span>
              <button type="button" id = "pr6" class = "cart" class="btn btn-sm btn-outline-secondary">+</button>
              <button type="button" class = "cart" class="btn btn-sm btn-outline-secondary">-</button>
              <span id = "itempar6"> {{ct}}</span>
              <span> item's selected</span>
            </div>
            <small class="text-body-secondary">15% off</small>
          </div>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card shadow-sm">
        <img class = "albimg" src = "/static/shoe.jpg" alt = "Not found"/>
        <div class="card-body">
          <p id = "namepar7" class="card-text">shoe</p>
          <div class="d-flex justify-content-between align-items-center">
            <div id = "par7" class="btn-group">
              <span  class = "actualprice">rs499</span>
              <button type="button" id = "pr7" class = "cart" class="btn btn-sm btn-outline-secondary">+</button>
              <button type="button" class = "cart" class="btn btn-sm btn-outline-secondary">-</button>
              <span id = "itempar7"> {{ct}}</span>
              <span> item's selected</span>
            </div>
            <small class="text-body-secondary">6% off</small>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card shadow-sm">
        <img class = "albimg"  src = "/static/volley.jpg" alt = "Not found"/>
        <div class="card-body">
          <p id = "namepar8" class="card-text">volleyball</p>
          <div class="d-flex justify-content-between align-items-center">
            <div id = "par8" class="btn-group">
              <span  class = "actualprice">rs700</span>
              <button type="button" id = "pr8" class = "cart"  class="btn btn-sm btn-outline-secondary">+</button>
              <button type="button" class = "cart" class="btn btn-sm btn-outline-secondary">-</button>
              <span id = "itempar8"> {{ct}}</span>
              <span> item's selected</span>
            </div>
            <small class="text-body-secondary">10% off</small>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card shadow-sm">
        <img class = "albimg"  src = "/static/bat.jpg" alt = "Not found"/>
        <div class="card-body">
          <p id = "namepar9" class="card-text">Cricket kit</p>
          <div class="d-flex justify-content-between align-items-center">
            <div id = "par9" class="btn-group">
              <span  class = "actualprice">rs1500</span>
              <button type="button" id = "pr9" class = "cart" class="btn btn-sm btn-outline-secondary">+</button>
              <button type="button" class = "cart" class="btn btn-sm btn-outline-secondary">-</button>
              <span id = "itempar9"> {{ct}}</span>
              <span> item's selected</span>
            </div>
            <small class="text-body-secondary">7%</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{%endblock body%}
{%block script%}
if(localStorage.getItem('cart') == null)
{
  var cart = {}
  
}
else{
  cart = JSON.parse(localStorage.getItem('cart'));
}
$(".cart").click(function(){
  {% comment %} if(this.innerHTML == '+'){
    console.log("it is plus")
  } {% endcomment %}

  

  var iden = this.parentElement.id.toString();
  var itemid = document.getElementById("item" + iden)

  var nameid =  document.getElementById("name" + iden)

  console.log("name id is ", nameid)
  console.log(nameid.innerHTML)
  console.log(iden)
  console.log(itemid)
  if(this.innerHTML == "+"){
    if(cart[iden] != undefined)
    {
      cart[iden] = cart[iden] + 1;
    }
    else{
      cart[iden] =  1;
    }
      
        itemid.innerHTML = cart[iden]
      
  
  }
 
  else if(this.innerHTML == "-")
  {
    console.log("minus is clicked")
    if(cart[iden] > 1 ){
      cart[iden] = cart[iden] - 1;
      itemid.innerHTML = cart[iden]
    }else if(cart[iden] == 1){
      delete cart[iden]
      itemid.innerHTML = 0
    }
    
  }
 
console.log(cart)

localStorage.setItem('cart' , JSON.stringify(cart))
});

{%endblock script%}